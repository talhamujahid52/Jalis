{"ast":null,"code":"import { useEffect, useState } from 'react'; // utils\n\nconst isClient = typeof window === 'object';\n\nconst on = function (obj) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return obj.addEventListener(...args);\n};\n\nconst off = function (obj) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return obj.removeEventListener(...args);\n};\n\nconst patchHistoryMethod = method => {\n  const original = window.history[method];\n\n  window.history[method] = function (state) {\n    const result = original.apply(this, arguments);\n    const event = new Event(method.toLowerCase());\n    event.state = state;\n    window.dispatchEvent(event);\n    return result;\n  };\n};\n\nif (isClient) {\n  patchHistoryMethod('pushState');\n  patchHistoryMethod('replaceState');\n}\n\nexport const useLocation = () => {\n  const buildState = trigger => {\n    const {\n      state,\n      length\n    } = window.history;\n    const {\n      hash,\n      host,\n      hostname,\n      href,\n      origin,\n      pathname,\n      port,\n      protocol,\n      search\n    } = window.location;\n    return {\n      trigger,\n      state,\n      length,\n      hash,\n      host,\n      hostname,\n      href,\n      origin,\n      pathname,\n      port,\n      protocol,\n      search\n    };\n  };\n\n  const [state, setState] = useState(isClient ? buildState('load') : {\n    trigger: 'load',\n    length: 1\n  });\n  useEffect(() => {\n    const onChange = trigger => setState(buildState(trigger));\n\n    const onPopstate = () => onChange('popstate');\n\n    const onPushstate = () => onChange('pushstate');\n\n    const onReplacestate = () => onChange('replacestate');\n\n    on(window, 'popstate', onPopstate);\n    on(window, 'pushstate', onPushstate);\n    on(window, 'replacestate', onReplacestate);\n    return () => {\n      off(window, 'popstate', onPopstate);\n      off(window, 'pushstate', onPushstate);\n      off(window, 'replacestate', onReplacestate);\n    };\n  }, []);\n  return state;\n};","map":{"version":3,"sources":["C:/Users/Talha/Desktop/hotel/src/library/hooks/useLocation.js"],"names":["useEffect","useState","isClient","window","on","obj","args","addEventListener","off","removeEventListener","patchHistoryMethod","method","original","history","state","result","apply","arguments","event","Event","toLowerCase","dispatchEvent","useLocation","buildState","trigger","length","hash","host","hostname","href","origin","pathname","port","protocol","search","location","setState","onChange","onPopstate","onPushstate","onReplacestate"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC,C,CAEA;;AACA,MAAMC,QAAQ,GAAG,OAAOC,MAAP,KAAkB,QAAnC;;AACA,MAAMC,EAAE,GAAG,UAACC,GAAD;AAAA,oCAASC,IAAT;AAASA,IAAAA,IAAT;AAAA;;AAAA,SAAkBD,GAAG,CAACE,gBAAJ,CAAqB,GAAGD,IAAxB,CAAlB;AAAA,CAAX;;AACA,MAAME,GAAG,GAAG,UAACH,GAAD;AAAA,qCAASC,IAAT;AAASA,IAAAA,IAAT;AAAA;;AAAA,SAAkBD,GAAG,CAACI,mBAAJ,CAAwB,GAAGH,IAA3B,CAAlB;AAAA,CAAZ;;AAEA,MAAMI,kBAAkB,GAAGC,MAAM,IAAI;AACnC,QAAMC,QAAQ,GAAGT,MAAM,CAACU,OAAP,CAAeF,MAAf,CAAjB;;AACAR,EAAAA,MAAM,CAACU,OAAP,CAAeF,MAAf,IAAyB,UAASG,KAAT,EAAgB;AACvC,UAAMC,MAAM,GAAGH,QAAQ,CAACI,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAf;AACA,UAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAUR,MAAM,CAACS,WAAP,EAAV,CAAd;AACAF,IAAAA,KAAK,CAACJ,KAAN,GAAcA,KAAd;AACAX,IAAAA,MAAM,CAACkB,aAAP,CAAqBH,KAArB;AACA,WAAOH,MAAP;AACD,GAND;AAOD,CATD;;AAUA,IAAIb,QAAJ,EAAc;AACZQ,EAAAA,kBAAkB,CAAC,WAAD,CAAlB;AACAA,EAAAA,kBAAkB,CAAC,cAAD,CAAlB;AACD;;AACD,OAAO,MAAMY,WAAW,GAAG,MAAM;AAC/B,QAAMC,UAAU,GAAGC,OAAO,IAAI;AAC5B,UAAM;AAAEV,MAAAA,KAAF;AAASW,MAAAA;AAAT,QAAoBtB,MAAM,CAACU,OAAjC;AACA,UAAM;AACJa,MAAAA,IADI;AAEJC,MAAAA,IAFI;AAGJC,MAAAA,QAHI;AAIJC,MAAAA,IAJI;AAKJC,MAAAA,MALI;AAMJC,MAAAA,QANI;AAOJC,MAAAA,IAPI;AAQJC,MAAAA,QARI;AASJC,MAAAA;AATI,QAUF/B,MAAM,CAACgC,QAVX;AAWA,WAAO;AACLX,MAAAA,OADK;AAELV,MAAAA,KAFK;AAGLW,MAAAA,MAHK;AAILC,MAAAA,IAJK;AAKLC,MAAAA,IALK;AAMLC,MAAAA,QANK;AAOLC,MAAAA,IAPK;AAQLC,MAAAA,MARK;AASLC,MAAAA,QATK;AAULC,MAAAA,IAVK;AAWLC,MAAAA,QAXK;AAYLC,MAAAA;AAZK,KAAP;AAcD,GA3BD;;AA4BA,QAAM,CAACpB,KAAD,EAAQsB,QAAR,IAAoBnC,QAAQ,CAChCC,QAAQ,GACJqB,UAAU,CAAC,MAAD,CADN,GAEJ;AACEC,IAAAA,OAAO,EAAE,MADX;AAEEC,IAAAA,MAAM,EAAE;AAFV,GAH4B,CAAlC;AAQAzB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMqC,QAAQ,GAAGb,OAAO,IAAIY,QAAQ,CAACb,UAAU,CAACC,OAAD,CAAX,CAApC;;AACA,UAAMc,UAAU,GAAG,MAAMD,QAAQ,CAAC,UAAD,CAAjC;;AACA,UAAME,WAAW,GAAG,MAAMF,QAAQ,CAAC,WAAD,CAAlC;;AACA,UAAMG,cAAc,GAAG,MAAMH,QAAQ,CAAC,cAAD,CAArC;;AACAjC,IAAAA,EAAE,CAACD,MAAD,EAAS,UAAT,EAAqBmC,UAArB,CAAF;AACAlC,IAAAA,EAAE,CAACD,MAAD,EAAS,WAAT,EAAsBoC,WAAtB,CAAF;AACAnC,IAAAA,EAAE,CAACD,MAAD,EAAS,cAAT,EAAyBqC,cAAzB,CAAF;AACA,WAAO,MAAM;AACXhC,MAAAA,GAAG,CAACL,MAAD,EAAS,UAAT,EAAqBmC,UAArB,CAAH;AACA9B,MAAAA,GAAG,CAACL,MAAD,EAAS,WAAT,EAAsBoC,WAAtB,CAAH;AACA/B,MAAAA,GAAG,CAACL,MAAD,EAAS,cAAT,EAAyBqC,cAAzB,CAAH;AACD,KAJD;AAKD,GAbQ,EAaN,EAbM,CAAT;AAcA,SAAO1B,KAAP;AACD,CApDM","sourcesContent":["import { useEffect, useState } from 'react';\n\n// utils\nconst isClient = typeof window === 'object';\nconst on = (obj, ...args) => obj.addEventListener(...args);\nconst off = (obj, ...args) => obj.removeEventListener(...args);\n\nconst patchHistoryMethod = method => {\n  const original = window.history[method];\n  window.history[method] = function(state) {\n    const result = original.apply(this, arguments);\n    const event = new Event(method.toLowerCase());\n    event.state = state;\n    window.dispatchEvent(event);\n    return result;\n  };\n};\nif (isClient) {\n  patchHistoryMethod('pushState');\n  patchHistoryMethod('replaceState');\n}\nexport const useLocation = () => {\n  const buildState = trigger => {\n    const { state, length } = window.history;\n    const {\n      hash,\n      host,\n      hostname,\n      href,\n      origin,\n      pathname,\n      port,\n      protocol,\n      search,\n    } = window.location;\n    return {\n      trigger,\n      state,\n      length,\n      hash,\n      host,\n      hostname,\n      href,\n      origin,\n      pathname,\n      port,\n      protocol,\n      search,\n    };\n  };\n  const [state, setState] = useState(\n    isClient\n      ? buildState('load')\n      : {\n          trigger: 'load',\n          length: 1,\n        }\n  );\n  useEffect(() => {\n    const onChange = trigger => setState(buildState(trigger));\n    const onPopstate = () => onChange('popstate');\n    const onPushstate = () => onChange('pushstate');\n    const onReplacestate = () => onChange('replacestate');\n    on(window, 'popstate', onPopstate);\n    on(window, 'pushstate', onPushstate);\n    on(window, 'replacestate', onReplacestate);\n    return () => {\n      off(window, 'popstate', onPopstate);\n      off(window, 'pushstate', onPushstate);\n      off(window, 'replacestate', onReplacestate);\n    };\n  }, []);\n  return state;\n};\n"]},"metadata":{},"sourceType":"module"}